/*
 * Deployment script for KYC Transfer Authorizer Smart Contract.
 * Copyright Â© 2018 by ABDK Consulting.
 * Author: Mikhail Vladimirov <mikhail.vladimirov@gmail.com>
 */

if (!web3.eth.contract ([{"constant":true,"inputs":[{"name":"_token","type":"address"},{"name":"_address","type":"address"}],"name":"isAuthorizedAddress","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_token","type":"address"},{"name":"_owner","type":"address"}],"name":"getUnfreezeTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_token","type":"address"},{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferAuthorized","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"_owner","type":"address"},{"name":"_unfreezeTime","type":"uint256"}],"name":"setUnfreezeTime","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"_address","type":"address"},{"name":"_authorized","type":"bool"}],"name":"setAuthorizedAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_addressClassifier","type":"address"}],"name":"setAddressClassifier","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_owner","type":"address"},{"name":"_addressClassifier","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]).new (
  owner,
  addressClassifier,
  {from: web3.eth.accounts[0], data: "0x6060604052341561000f57600080fd5b604051604080610bb8833981016040528080519190602001805160008054600160a060020a03958616600160a060020a03199182161790915560018054959092169416939093179092555050610b4e8061006a6000396000f30060606040526004361061005e5763ffffffff60e060020a6000350416630a6e13f781146100635780632407d16b1461009c578063735826bf146100d3578063b05f08c014610101578063be8c0e761461012b578063c53f44e914610155575b600080fd5b341561006e57600080fd5b610088600160a060020a0360043581169060243516610174565b604051901515815260200160405180910390f35b34156100a757600080fd5b6100c1600160a060020a03600435811690602435166101a2565b60405190815260200160405180910390f35b34156100de57600080fd5b610088600160a060020a0360043581169060243581169060443516606435610274565b341561010c57600080fd5b610129600160a060020a0360043581169060243516604435610664565b005b341561013657600080fd5b610129600160a060020a036004358116906024351660443515156108c6565b341561016057600080fd5b610129600160a060020a036004351661091b565b600160a060020a03918216600090815260046020908152604080832093909416825291909152205460ff1690565b600082600160a060020a03166370a082318360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156101fb57600080fd5b6102c65a03f1151561020c57600080fd5b505050604051805115905061024657600160a060020a0380841660009081526003602090815260408083209386168352929052205461026d565b600160a060020a038084166000908152600260209081526040808320938616835292905220545b9392505050565b60015460009081908190600160a060020a0316635b046ea287836040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156102d357600080fd5b6102c65a03f115156102e457600080fd5b5050506040518051600154909350600160a060020a03169050635b046ea28660006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561034a57600080fd5b6102c65a03f1151561035b57600080fd5b5050506040518051915050600182141561042d57600281141561041757600087600160a060020a03166370a082318760006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156103d157600080fd5b6102c65a03f115156103e257600080fd5b5050506040518051905011156103fb576000925061065a565b600084111561040e5761040e8786610965565b6001925061065a565b60018114806104265750600381145b925061065a565b60028214156106405761043e610a75565b61044888886101a2565b1115610457576000925061065a565b60038114156104ef576000841180156104e057508387600160a060020a03166370a082318860006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156104c357600080fd5b6102c65a03f115156104d457600080fd5b50505060405180519050145b1561040e5761040e8787610a79565b8387600160a060020a03166370a082318860006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561054757600080fd5b6102c65a03f1151561055857600080fd5b50505060405180519050141515610572576000925061065a565b600181141561058e57600084111561040e5761040e8787610a79565b600281141561063757600087600160a060020a03166370a082318760006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156105f057600080fd5b6102c65a03f1151561060157600080fd5b50505060405180519050111561061a576000925061065a565b600084111561040e5761062d8787610a79565b61040e8786610965565b6000925061065a565b600382141561063757600181148061042657506003811492505b5050949350505050565b60005433600160a060020a039081169116146107c357600160a060020a038084166000908152600460209081526040808320339094168352929052205460ff1615156106af57600080fd5b82600160a060020a03166370a082318360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561070657600080fd5b6102c65a03f1151561071757600080fd5b505050604051805115905061072b57600080fd5b600154600290600160a060020a0316635b046ea28460006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561078757600080fd5b6102c65a03f1151561079857600080fd5b505050604051805190501415156107ae57600080fd5b6107b883836101a2565b81116107c357600080fd5b82600160a060020a03166370a082318360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561081a57600080fd5b6102c65a03f1151561082b57600080fd5b50505060405180511515905061087f57600160a060020a03808416600081815260026020908152604080832094871680845294825280832086905592825260038152828220938252929092528120556108c1565b600160a060020a038084166000818152600260209081526040808320948716808452948252808320839055928252600381528282209382529290925290208190555b505050565b60005433600160a060020a039081169116146108e157600080fd5b600160a060020a03928316600090815260046020908152604080832094909516825292909252919020805460ff1916911515919091179055565b60005433600160a060020a0390811691161461093657600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600082600160a060020a03166370a082318360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156109be57600080fd5b6102c65a03f115156109cf57600080fd5b50505060405180511590506109e057fe5b50600160a060020a03808316600090815260026020908152604080832093851683529290522054801515610a49576301e13380610a1b610a75565b600160a060020a038086166000908152600360209081526040808320938816835292905220910190556108c1565b600160a060020a0392831660009081526003602090815260408083209490951682529290925291902055565b4290565b600082600160a060020a03166370a082318360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b1515610ad257600080fd5b6102c65a03f11515610ae357600080fd5b50505060405180519050111515610af657fe5b600160a060020a03918216600090815260026020908152604080832093909416825291909152908120555600a165627a7a72305820a72c3da620ee3aece5347f2c55ac377cbf1afe86ed35d902c49f83cdd6a9606d0029", gas: 1000000},
  function (e, r) {
    if (e) throw e;
    if (typeof r.address !== "undefined") {
      console.log (
        "Deployed at " + r.address + " (tx: " + r.transactionHash + ")");
    }
  }).transactionHash) {
  console.log ("Deployment failed.  Probably web3.eth.accounts[0] is locked.");
}
